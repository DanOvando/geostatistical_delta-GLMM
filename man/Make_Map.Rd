\name{Make_Map}
\alias{Make_Map}
%- Also NEED an '\alias' for EACH other topic documented here.
\title{ Makes the Map argument for TMB, which is used to turn off parameters that are fixed }
\description{
%%  ~~ A concise (1-5 lines) description of what the function does. ~~
}
\usage{
Make_Map(VesselConfig, TmbData, FieldConfig, CovConfig, CovConception, ObsModel, Aniso)
}
%- maybe also 'usage' for other objects documented here.
\arguments{
  \item{VesselConfig}{Vector describing whether to include vessel effects}
  \item{TmbData}{named list generated by Data_Fn}
  \item{FieldConfig}{Vector describing what types of spatial variation to estimate}
  \item{CovConfig}{Vector describing covariates for spatial variation (advanced feature not used by default)}
  \item{CovConception}{Deprecated and FALSE by default}
  \item{ObsModel}{Integer for distribution of residual 'measurement' error (0=normal (log-link); 1=lognormal; 2=gamma; 4=ZANB; 5=ZINB; 11=lognormal-mixture; 12=gamma-mixture)}
  \item{Aniso}{Use geometric anisotropy for spatial variation (0=no, 1=yes)}
}
\details{
%%  ~~ If necessary, more details than the description above ~~
}
\value{
%%  ~Describe the value returned
%%  If it is a LIST, use
%%  \item{comp1 }{Description of 'comp1'}
%%  \item{comp2 }{Description of 'comp2'}
%% ...
}
\references{
%% ~put references to the literature/web site here ~
}
\author{
%%  ~~who you are~~
}
\note{
%%  ~~further notes~~
}

%% ~Make other sections like Warning with \section{Warning }{....} ~

\seealso{
%% ~~objects to See Also as \code{\link{help}}, ~~~
}
\examples{
##---- Should be DIRECTLY executable !! ----
##-- ==>  Define data, use random,
##--	or do  help(data=index)  for the standard data sets.

## The function is currently defined as
function (VesselConfig, TmbData, FieldConfig, CovConfig, CovConception, 
    ObsModel, Aniso) 
{
    Map = list()
    if (VesselConfig["Vessel"] == 0) {
        Map[["nu1_v"]] = factor(rep(NA, TmbData$n_v))
        Map[["nu2_v"]] = factor(rep(NA, TmbData$n_v))
        Map[["logsigmaV1"]] = factor(NA)
        Map[["logsigmaV2"]] = factor(NA)
    }
    if (VesselConfig["VesselYear"] == 0) {
        Map[["nu1_vt"]] = factor(matrix(NA, nrow = TmbData$n_v, 
            ncol = TmbData$n_t))
        Map[["nu2_vt"]] = factor(matrix(NA, nrow = TmbData$n_v, 
            ncol = TmbData$n_t))
        Map[["logsigmaVT1"]] = factor(NA)
        Map[["logsigmaVT2"]] = factor(NA)
    }
    if (FieldConfig["Omega1"] == 0) {
        Map[["Omegainput1_s"]] = factor(rep(NA, TmbData$n_s))
        Map[["logetaO1"]] = factor(NA)
    }
    if (FieldConfig["Epsilon1"] == 0) {
        Map[["Epsiloninput1_st"]] = factor(matrix(NA, nrow = TmbData$n_s, 
            ncol = TmbData$n_t))
        Map[["logetaE1"]] = factor(NA)
    }
    if (FieldConfig["Omega1"] == 0 & FieldConfig["Epsilon1"] == 
        0) 
        Map[["logkappa1"]] = factor(NA)
    if (FieldConfig["Omega2"] == 0) {
        Map[["Omegainput2_s"]] = factor(rep(NA, TmbData$n_s))
        Map[["logetaO2"]] = factor(NA)
    }
    if (FieldConfig["Epsilon2"] == 0) {
        Map[["Epsiloninput2_st"]] = factor(matrix(NA, nrow = TmbData$n_s, 
            ncol = TmbData$n_t))
        Map[["logetaE2"]] = factor(NA)
    }
    if (FieldConfig["Omega2"] == 0 & FieldConfig["Epsilon2"] == 
        0) 
        Map[["logkappa2"]] = factor(NA)
    if (sum(CovConfig) == 0 & CovConception == FALSE) {
        Map[["gamma1_j"]] = factor(NA)
        Map[["gamma2_j"]] = factor(NA)
    }
    if (ObsModel \%in\% c(0, 1, 2)) {
        Map[["logSigmaM"]] = factor(c(1, NA, NA))
    }
    if (ObsModel \%in\% c(4, 5)) {
        Map[["logSigmaM"]] = factor(c(1, NA, 2))
    }
    if (Aniso == 0 | all(FieldConfig == 0)) 
        Map[["ln_H_input"]] = factor(rep(NA, 2))
    return(Map)
  }
}
% Add one or more standard keywords, see file 'KEYWORDS' in the
% R documentation directory.
\keyword{ ~kwd1 }
\keyword{ ~kwd2 }% __ONLY ONE__ keyword per line
