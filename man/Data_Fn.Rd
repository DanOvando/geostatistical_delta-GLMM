\name{Data_Fn}
\alias{Data_Fn}
%- Also NEED an '\alias' for EACH other topic documented here.
\title{ Generates input data list for use by TMB }
\description{
%%  ~~ A concise (1-5 lines) description of what the function does. ~~
}
\usage{
Data_Fn(n_i, n_x, n_t, n_v, n_j, n_k, n_l, Aniso, FieldConfig, ObsModel, Options, b_i, a_i, v_i, s_i, t_i, a_xl, X_xj, Q_ik, MeshList)
}
%- maybe also 'usage' for other objects documented here.
\arguments{
  \item{n_i}{Number of observations in data set }
  \item{n_x}{Number of 'polygons' (i.e., areas with constant density) used to approximate spatial variation (typically 500-2000)}
  \item{n_t}{Number of time periods (typically years) in data set}
  \item{n_v}{Number of vessels in data set}
  \item{n_j}{Number of spatial covariates describing spatial variation in density}
  \item{n_k}{Number of 'catchability' covariates describing variation in catch rates independent of density}
  \item{n_l}{Number of indices to calculate. If you do not want to post-process results to calculate indices, set to 0}
  \item{Aniso}{Use geometric anisotropy for spatial variation (0=no, 1=yes) }
  \item{FieldConfig}{Vector describing what types of spatial variation to estimate}
  \item{ObsModel}{Integer for distribution of residual 'measurement' error (0=normal (log-link); 1=lognormal; 2=gamma; 4=ZANB; 5=ZINB; 11=lognormal-mixture; 12=gamma-mixture)}
  \item{Options}{Essentially deprecated}
  \item{b_i}{biomass for each observation i}
  \item{a_i}{Area swept (or other offset) for each observation i}
  \item{v_i}{vessel for each observation}
  \item{s_i}{Polygon associated with each observation}
  \item{t_i}{Year for each observation}
  \item{a_xl}{Matrix with dimension n_x by n_l, where a_xl[x,l] gives the total area in polygon x that should be included when calculating index l. Indices do not need to be mutually exclusive (i.e., rows of a_xl can sum to more than one)}
  \item{X_xj}{Matrix with dimension n_x by n_j, where X_xj[x,j] gives the value of the j-th covariate for polygon x}
  \item{Q_ik}{Matrix with dimension n_i by n_k, where Q_ik[i,k] gives the value of 'catchability' covariate k for sample i}
  \item{MeshList}{named list generated by Calc_Anisotropic_Mesh() function}
}
\details{
This function generates the named list that is then used by MakeADFun() to generate the TMB object. 
}
\value{
}
\references{
}
\author{
}
\note{
}

\seealso{
%% ~~objects to See Also as \code{\link{help}}, ~~~
}
\examples{

## The function is currently defined as
function (n_i, n_x, n_t, n_v, n_j, n_k, n_l, Aniso, FieldConfig, 
    ObsModel, Options, b_i, a_i, v_i, s_i, t_i, a_xl, X_xj, Q_ik, 
    n_tri, MeshList) 
{
    if (Version == "geo_index_v3b") {
        Return = list(n_i = n_i, n_s = MeshList$spde$n.spde, 
            n_x = n_x, n_t = n_t, n_v = n_v, n_j = n_j, n_k = n_k, 
            n_l = n_l, Aniso = Aniso, FieldConfig = FieldConfig, 
            ObsModel = ObsModel, Options = Options, b_i = b_i, 
            a_i = a_i, v_i = v_i, s_i = s_i, t_i = t_i, a_xl = a_xl, 
            X_xj = X_xj, Q_ik = Q_ik, n_tri = nrow(MeshList$mesh$graph$tv), 
            Tri_Area = MeshList$Tri_Area, E0 = MeshList$E0, E1 = MeshList$E1, 
            E2 = MeshList$E2, TV = MeshList$TV - 1, G0_inv = as(diag(1/diag(MeshList$spde$param.inla$M0)), 
                "dgTMatrix"), G0 = MeshList$spde$param.inla$M0, 
            G1 = MeshList$spde$param.inla$M1, G2 = MeshList$spde$param.inla$M2)
    }
    if (Version == "geo_index_v3c") {
        Return = list(n_i = n_i, n_s = MeshList$spde$n.spde, 
            n_x = n_x, n_t = n_t, n_v = n_v, n_j = n_j, n_k = n_k, 
            n_l = n_l, Aniso = Aniso, FieldConfig = FieldConfig, 
            ObsModel = ObsModel, Options = Options, b_i = b_i, 
            a_i = a_i, v_i = v_i, s_i = s_i, t_i = t_i, a_xl = a_xl, 
            X_xj = X_xj, Q_ik = Q_ik, spde = list(), G0 = MeshList$spde$param.inla$M0, 
            G1 = MeshList$spde$param.inla$M1, G2 = MeshList$spde$param.inla$M2)
        Return[["spde"]] = list(n_s = MeshList$spde$n.spde, n_tri = nrow(MeshList$mesh$graph$tv), 
            Tri_Area = MeshList$Tri_Area, E0 = MeshList$E0, E1 = MeshList$E1, 
            E2 = MeshList$E2, TV = MeshList$TV - 1, G0 = MeshList$spde$param.inla$M0, 
            G0_inv = as(diag(1/diag(MeshList$spde$param.inla$M0)), 
                "dgTMatrix"))
    }
    return(Return)
  }
}
% Add one or more standard keywords, see file 'KEYWORDS' in the
% R documentation directory.
\keyword{ ~kwd1 }
\keyword{ ~kwd2 }% __ONLY ONE__ keyword per line
